package br.com.conexao.teste;

import java.sql.Connection;
import java.sql.DriverManager;

import br.com.conexao.excecao.Excecao;

public class TesteConexao { //Ler sobre Garbage Collector -> Nunca crie variáveis dentro de laço
	
	//Pasta lib criada para colocar o driver jdbc para criar uma referência interna
	//Isso faz com que se o projeto é exportado, o driver sempre acompanhará
	
	public static void main(String[] args) { 
		//Driver Manager -> Classe que cria conexão com o banco
		//DriverManager.getConnection("url", "usu", "pwd"); url == String de conexão
		
		Connection fiap = null;
		
		try { // o Driver Manager retorna uma conexão 
			fiap = DriverManager.getConnection("jdbc:oracle:thin:@oracle.fiap.com.br:1521:ORCL", "rm85499", "131002"); //É uma exceção checked porque sem um try catch o java avisa que poderá ocorrer um erro
			System.out.println("Abriu conexão!!");
		}catch (Exception e){
			System.out.println(Excecao.tratarExcecao(e));
			e.printStackTrace(); // Mostra o que de fato provocou o erro 
		}finally {
			try {
				fiap.close();
			}catch(Exception e)){
				System.out.println(Excecao.tratarExcecao(e));
			}
		}
	}
}
